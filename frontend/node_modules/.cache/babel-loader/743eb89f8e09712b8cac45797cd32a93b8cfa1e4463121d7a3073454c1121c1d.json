{"ast":null,"code":"var _jsxFileName = \"/Users/rusith/Downloads/rusith-main 2/frontend/src/components/user/UserContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext(null);\nexport const useUser = () => {\n  _s();\n  return useContext(UserContext);\n};\n_s(useUser, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const UserProvider = ({\n  children\n}) => {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [name, setName] = useState('');\n  useEffect(() => {\n    const storedUserId = localStorage.getItem('userId');\n    const storedName = localStorage.getItem('name');\n    if (storedUserId && storedName) {\n      setUserId(storedUserId);\n      setName(storedName);\n    } else {\n      fetchUserData();\n    }\n  }, []);\n  const fetchUserData = async () => {\n    try {\n      const response = await axios.get('http://localhost:8080/api/user');\n      const userData = response.data;\n      setUser(userData.user);\n      setUserId(userData.userId);\n      setName(userData.name);\n      localStorage.setItem('userId', userData.userId);\n      localStorage.setItem('name', userData.name);\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  };\n  const updateUser = userData => {\n    setUser(userData.user);\n    setUserId(userData.userId);\n    setName(userData.name);\n    localStorage.setItem('userId', userData.userId);\n    localStorage.setItem('name', userData.name);\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      setUser,\n      userId,\n      setUserId,\n      name,\n      setName,\n      updateUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s2(UserProvider, \"lb2/ayWlEtcbCpy7JniUluUZCTw=\");\n_c = UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","jsxDEV","_jsxDEV","UserContext","useUser","_s","UserProvider","children","_s2","user","setUser","userId","setUserId","name","setName","storedUserId","localStorage","getItem","storedName","fetchUserData","response","get","userData","data","setItem","error","console","updateUser","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/rusith/Downloads/rusith-main 2/frontend/src/components/user/UserContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst UserContext = createContext(null);\n\nexport const useUser = () => useContext(UserContext);\n\nexport const UserProvider = ({ children }) => {\n    const [user, setUser] = useState(null);\n    const [userId, setUserId] = useState(null);\n    const [name, setName] = useState('');\n\n    useEffect(() => {\n        const storedUserId = localStorage.getItem('userId');\n        const storedName = localStorage.getItem('name');\n\n        if (storedUserId && storedName) {\n            setUserId(storedUserId);\n            setName(storedName);\n        } else {\n            fetchUserData();\n        }\n    }, []);\n\n    const fetchUserData = async () => {\n        try {\n            const response = await axios.get('http://localhost:8080/api/user');\n            const userData = response.data;\n            setUser(userData.user);\n            setUserId(userData.userId);\n            setName(userData.name);\n            localStorage.setItem('userId', userData.userId);\n            localStorage.setItem('name', userData.name);\n        } catch (error) {\n            console.error('Error fetching user data:', error);\n        }\n    };\n\n    const updateUser = (userData) => {\n        setUser(userData.user);\n        setUserId(userData.userId);\n        setName(userData.name);\n        localStorage.setItem('userId', userData.userId);\n        localStorage.setItem('name', userData.name);\n    };\n\n    return (\n        <UserContext.Provider value={{ user, setUser, userId, setUserId, name, setName, updateUser }}>\n            {children}\n        </UserContext.Provider>\n    );\n};"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,WAAW,gBAAGP,aAAa,CAAC,IAAI,CAAC;AAEvC,OAAO,MAAMQ,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMR,UAAU,CAACM,WAAW,CAAC;AAAA;AAACE,EAAA,CAAxCD,OAAO;AAEpB,OAAO,MAAME,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC1C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEpCC,SAAS,CAAC,MAAM;IACZ,MAAMgB,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACnD,MAAMC,UAAU,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAE/C,IAAIF,YAAY,IAAIG,UAAU,EAAE;MAC5BN,SAAS,CAACG,YAAY,CAAC;MACvBD,OAAO,CAACI,UAAU,CAAC;IACvB,CAAC,MAAM;MACHC,aAAa,CAAC,CAAC;IACnB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,GAAG,CAAC,gCAAgC,CAAC;MAClE,MAAMC,QAAQ,GAAGF,QAAQ,CAACG,IAAI;MAC9Bb,OAAO,CAACY,QAAQ,CAACb,IAAI,CAAC;MACtBG,SAAS,CAACU,QAAQ,CAACX,MAAM,CAAC;MAC1BG,OAAO,CAACQ,QAAQ,CAACT,IAAI,CAAC;MACtBG,YAAY,CAACQ,OAAO,CAAC,QAAQ,EAAEF,QAAQ,CAACX,MAAM,CAAC;MAC/CK,YAAY,CAACQ,OAAO,CAAC,MAAM,EAAEF,QAAQ,CAACT,IAAI,CAAC;IAC/C,CAAC,CAAC,OAAOY,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACrD;EACJ,CAAC;EAED,MAAME,UAAU,GAAIL,QAAQ,IAAK;IAC7BZ,OAAO,CAACY,QAAQ,CAACb,IAAI,CAAC;IACtBG,SAAS,CAACU,QAAQ,CAACX,MAAM,CAAC;IAC1BG,OAAO,CAACQ,QAAQ,CAACT,IAAI,CAAC;IACtBG,YAAY,CAACQ,OAAO,CAAC,QAAQ,EAAEF,QAAQ,CAACX,MAAM,CAAC;IAC/CK,YAAY,CAACQ,OAAO,CAAC,MAAM,EAAEF,QAAQ,CAACT,IAAI,CAAC;EAC/C,CAAC;EAED,oBACIX,OAAA,CAACC,WAAW,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAEpB,IAAI;MAAEC,OAAO;MAAEC,MAAM;MAAEC,SAAS;MAAEC,IAAI;MAAEC,OAAO;MAAEa;IAAW,CAAE;IAAApB,QAAA,EACxFA;EAAQ;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAACzB,GAAA,CA5CWF,YAAY;AAAA4B,EAAA,GAAZ5B,YAAY;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}